{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// import ArgonInput from \"@/components/ArgonInput.vue\";\nimport RDxInput from \"@/components/RDxInput.vue\";\nimport axios from \"axios\";\nconst body = document.getElementsByTagName(\"body\")[0];\nexport default {\n  name: \"signin\",\n  data() {\n    return {\n      name: '',\n      email: '',\n      password: '',\n      error: false,\n      error_message: '',\n      error_code: ''\n    };\n  },\n  components: {\n    \"rdx-input\": RDxInput\n  },\n  created() {\n    body.classList.remove(\"bg-gray-100\");\n  },\n  beforeUnmount() {\n    body.classList.add(\"bg-gray-100\");\n  },\n  mounted() {},\n  methods: {\n    on_click_back_login() {\n      this.$router.push({\n        path: '/session/login'\n      });\n    },\n    on_click_register() {\n      /*  \n      if (this.name == \"\") {\n        this.error = true;\n        this.error_message = \"El campo nombre es requerido\";\n        return;\n      }\n      if (this.email == \"\") {\n        this.error = true;\n        this.error_message = \"El campo email es requerido\";\n        return;\n      }\n      if (this.password == \"\") {\n        this.error = true;\n        this.error_message = \"El campo contraseña es requerido\";\n        return;\n      }\n      */\n\n      this.error = false;\n      this.$store.session.clear_all();\n      this.$api.post({\n        url: '/api/enrollment/',\n        data: {\n          name: this.name,\n          email: this.email,\n          password: this.password\n        },\n        success: resp => {\n          this.$store.session.webcode = resp.data.webcode;\n          this.$store.session.current_user.name = this.name.trim();\n          this.$store.session.current_user.email = this.email.trim();\n          this.$router.push({\n            path: '/session/verification'\n          });\n        },\n        error: err => {\n          try {\n            if (err.response.data.code == 'ENROLLMENT_EMAIL_ALREADY_EXIST') {\n              this.error_message = 'El email ya está enrolado';\n            }\n          } catch (e) {\n            this.error_message = 'No se pudo realizar el registro';\n          }\n          this.error = true;\n        }\n      });\n\n      /*       \n             \"/api/enrollment/\", {\n         name: this.name,\n         email: this.email,\n         password: this.password,\n       })\n       .then((response) => {\n         console.log(response);\n          \n       })\n       .catch((error) => {\n         this.error = true;\n         console.log(error);\n         \n          if (error?.response?.data?.code=='ENROLLMENT_EMAIL_ALREADY_EXIST') {\n             this.error_code = 'ENROLLMENT_EMAIL_ALREADY_EXIST';\n         }\n         \n         this.error_message = error.response.data.error;\n         console.log(error.response.data.error);\n       });\n       */\n    }\n  }\n};","map":{"version":3,"mappings":";AA8FA;AACA,OAAOA,QAAO,MAAO,2BAA2B;AAChD,OAAOC,KAAI,MAAO,OAAO;AACzB,MAAMC,IAAG,GAAIC,QAAQ,CAACC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAErD,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,IAAI,GAAG;IACL,OAAO;MACLD,IAAI,EAAE,EAAE;MACRE,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,KAAK;MACZC,aAAa,EAAE,EAAE;MACjBC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,UAAU,EAAE;IACV,WAAW,EAAEZ;EACf,CAAC;EACDa,OAAO,GAAG;IACRX,IAAI,CAACY,SAAS,CAACC,MAAM,CAAC,aAAa,CAAC;EACtC,CAAC;EAEDC,aAAa,GAAG;IACdd,IAAI,CAACY,SAAS,CAACG,GAAG,CAAC,aAAa,CAAC;EACnC,CAAC;EACDC,OAAO,GAAG,CAEV,CAAC;EACDC,OAAO,EAAE;IAEPC,mBAAmB,GAAG;MAClB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAAEC,IAAI,EAAE;MAAiB,CAAC,CAAC;IACjD,CAAC;IAGDC,iBAAiB,GAAE;MAEjB;;;;;;;;;;;;;;;;;;MAkBA,IAAI,CAACf,KAAI,GAAI,KAAK;MAElB,IAAI,CAACgB,MAAM,CAACC,OAAO,CAACC,SAAS,EAAE;MAE/B,IAAI,CAACC,IAAI,CAACC,IAAI,CAAC;QACZC,GAAG,EAAE,kBAAkB;QACvBxB,IAAI,EAAE;UACFD,IAAI,EAAE,IAAI,CAACA,IAAI;UACfE,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBC,QAAQ,EAAE,IAAI,CAACA;QACnB,CAAC;QACDuB,OAAO,EAAGC,IAAI,IAAK;UACjB,IAAI,CAACP,MAAM,CAACC,OAAO,CAACO,OAAM,GAAID,IAAI,CAAC1B,IAAI,CAAC2B,OAAO;UAC/C,IAAI,CAACR,MAAM,CAACC,OAAO,CAACQ,YAAY,CAAC7B,IAAG,GAAK,IAAI,CAACA,IAAI,CAAC8B,IAAI,EAAE;UACzD,IAAI,CAACV,MAAM,CAACC,OAAO,CAACQ,YAAY,CAAC3B,KAAI,GAAK,IAAI,CAACA,KAAK,CAAC4B,IAAI,EAAE;UAC3D,IAAI,CAACd,OAAO,CAACC,IAAI,CAAC;YAAEC,IAAI,EAAE;UAAwB,CAAC,CAAC;QACtD,CAAC;QACDd,KAAK,EAAG2B,GAAG,IAAK;UACd,IAAI;YACA,IAAIA,GAAG,CAACC,QAAQ,CAAC/B,IAAI,CAACgC,IAAI,IAAE,gCAAgC,EAAE;cAC1D,IAAI,CAAC5B,aAAY,GAAI,2BAA2B;YACpD;UACJ,EACA,OAAM6B,CAAC,EAAE;YACL,IAAI,CAAC7B,aAAY,GAAI,iCAAiC;UAC1D;UACA,IAAI,CAACD,KAAI,GAAI,IAAI;QACnB;MACH,CAAC,CAAC;;MAGD;;;;;;;;;;;;;;;;;;;;;;IAyBH;EACF;AACF,CAAC","names":["RDxInput","axios","body","document","getElementsByTagName","name","data","email","password","error","error_message","error_code","components","created","classList","remove","beforeUnmount","add","mounted","methods","on_click_back_login","$router","push","path","on_click_register","$store","session","clear_all","$api","post","url","success","resp","webcode","current_user","trim","err","response","code","e"],"sourceRoot":"","sources":["/opt/rdx-vitrina-front/src/views/session/Register.vue"],"sourcesContent":["<template>\n  <main class=\"mt-0 main-content\">\n    <section>\n      <div class=\"page-header min-vh-100\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-5 d-lg-flex d-none ps-0\"></div>\n            <div\n              class=\"top-0 my-auto text-center col-5 d-lg-flex d-none h-100 ps-0 position-absolute start-0 justify-content-center flex-column\"\n            >\n              <div\n                class=\"position-relative bg-gradient-primary h-100 d-flex flex-column justify-content-center overflow-hidden\"\n                style=\"\n                  background-image: url('https://d1g2o4pwbvyrni.cloudfront.net/rdx-vitrina-dashboard/assets/img/signin-ill.jpeg');\n                  background-size: cover;\n                \"\n              >\n                <h1\n                  class=\"mt-5 text-white font-weight-bolder position-relative font-sabon\"\n                >\n                  RECUPERAR CLAVE\n                </h1>\n              </div>\n            </div>\n            <div\n              class=\"mx-auto col-xl-4 col-lg-5 col-md-7 d-flex flex-column mx-lg-0\"\n            >\n              <div class=\"card card-plain\">\n                <div class=\"pb-0 card-header text-start\">\n                  <h4 class=\"font-weight-bolder\">Registro de Usuario</h4>\n                  <p class=\"mb-0\">Ingresa tus datos para continuar</p>\n                </div>\n                <div class=\"card-body\">\n                  <form role=\"form\">\n                    \n                    <rdx-input v-model=\"name\" id=\"floatingInput\" label=\"Nombre\" type=\"text\" placeholder=\"name\" :isRequired=true />\n                    <rdx-input v-model=\"email\" id=\"floatingInput\" label=\"Email\" type=\"email\" placeholder=\"email\" :isRequired=true />\n                    <rdx-input v-model=\"password\" id=\"floatingPassword\" label=\"Contraseña\" type=\"password\" placeholder=\"password\" :isRequired=true />\n\n\n                    <div class=\"alert alert-danger\" role=\"alert\" v-if=\"error\">\n                      {{ error_message }}\n                    </div>\n\n                    \n                    <rdx-button @click=\"on_click_register()\">Registrarse</rdx-button>\n                    \n                   \n                  </form>\n                </div>\n                <!-- <div class=\"card-body\" style=\"background-color:black;right:0\">\n                  \n                </div> -->\n\n\n                <div \n                  \n                  class=\"px-1 pt-0 text-center card-footer px-lg-2\"\n                >\n                  <p class=\"mx-auto mb-4 text-sm\">\n                    Volver a\n                    <a\n                       role=\"button\"\n                       @click=\"on_click_back_login()\"\n                       class=\"text-primary font-weight-bold\">Iniciar Sesión</a>\n                  </p>\n                </div>\n                \n                \n              </div>\n            </div>\n          </div>\n          <div style=\"left:0%;width:10%;height:10%;background-color:black\"></div>\n        </div>\n      </div>\n    </section>\n  </main>\n</template>\n\n<!-- import style -->\n<style lang=\"scss\" scoped>\n.verification-code {\n\n  &-input\n  {}\n  display: flex;\n  justify-content: space-between;\n  margin: 0 auto;\n  width: 200px;\n}\n\n\n</style>\n<script>\n// import ArgonInput from \"@/components/ArgonInput.vue\";\nimport RDxInput from \"@/components/RDxInput.vue\";\nimport axios from \"axios\";\nconst body = document.getElementsByTagName(\"body\")[0];\n\nexport default {\n  name: \"signin\",\n  data() {\n    return {\n      name: '',\n      email: '',\n      password: '',\n      error: false,\n      error_message: '',\n      error_code: '',\n    };\n  },\n  components: {\n    \"rdx-input\": RDxInput,\n  },\n  created() {\n    body.classList.remove(\"bg-gray-100\");\n  },\n  \n  beforeUnmount() {\n    body.classList.add(\"bg-gray-100\");\n  },\n  mounted() {\n\n  },\n  methods: {\n      \n    on_click_back_login() {\n        this.$router.push({ path: '/session/login' });\n    },\n    \n    \n    on_click_register(){\n        \n      /*  \n      if (this.name == \"\") {\n        this.error = true;\n        this.error_message = \"El campo nombre es requerido\";\n        return;\n      }\n      if (this.email == \"\") {\n        this.error = true;\n        this.error_message = \"El campo email es requerido\";\n        return;\n      }\n      if (this.password == \"\") {\n        this.error = true;\n        this.error_message = \"El campo contraseña es requerido\";\n        return;\n      }\n      */\n      \n      this.error = false;\n      \n      this.$store.session.clear_all();\n      \n      this.$api.post({\n         url: '/api/enrollment/',\n         data: {\n             name: this.name,\n             email: this.email,\n             password: this.password,             \n         },\n         success: (resp) => {\n           this.$store.session.webcode = resp.data.webcode;\n           this.$store.session.current_user.name =  this.name.trim();\n           this.$store.session.current_user.email =  this.email.trim();\n           this.$router.push({ path: '/session/verification' });  \n         },\n         error: (err) => {\n           try {\n               if (err.response.data.code=='ENROLLMENT_EMAIL_ALREADY_EXIST') {\n                   this.error_message = 'El email ya está enrolado';\n               }\n           }\n           catch(e) {\n               this.error_message = 'No se pudo realizar el registro';\n           }\n           this.error = true;\n         }\n      });\n              \n              \n       /*       \n              \"/api/enrollment/\", {\n          name: this.name,\n          email: this.email,\n          password: this.password,\n        })\n        .then((response) => {\n          console.log(response);\n\n          \n        })\n        .catch((error) => {\n          this.error = true;\n          console.log(error);\n          \n\n          if (error?.response?.data?.code=='ENROLLMENT_EMAIL_ALREADY_EXIST') {\n              this.error_code = 'ENROLLMENT_EMAIL_ALREADY_EXIST';\n          }\n          \n          this.error_message = error.response.data.error;\n          console.log(error.response.data.error);\n        });\n        */\n\n    }\n  },  \n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}