{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createElementVNode as _createElementVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"d-flex justify-content-between\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"width\": \"100%\",\n    \"height\": \"50px\"\n  }\n}, \"Â \", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_rdx_button = _resolveComponent(\"rdx-button\");\n  const _component_vitrina_form_product = _resolveComponent(\"vitrina-form-product\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [$data.accion == 'edit' ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_2, \"Modifica tu producto\")) : _createCommentVNode(\"v-if\", true), $data.accion == 'new' ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_3, \"Crea tu producto\")) : _createCommentVNode(\"v-if\", true), $data.accion == 'edit' ? (_openBlock(), _createBlock(_component_rdx_button, {\n    key: 2,\n    onClick: _cache[0] || (_cache[0] = $event => $options.on_click_update())\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Guardar\")]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), $data.accion == 'new' ? (_openBlock(), _createBlock(_component_rdx_button, {\n    key: 3,\n    onClick: _cache[1] || (_cache[1] = $event => $options.on_click_create())\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Crear\")]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)]), _hoisted_4, $data.show ? (_openBlock(), _createBlock(_component_vitrina_form_product, {\n    key: 0,\n    url_product: $data.url_product,\n    \"onUpdate:url_product\": _cache[2] || (_cache[2] = $event => $data.url_product = $event),\n    uuid_product: $data.uuid_product,\n    \"onUpdate:uuid_product\": _cache[3] || (_cache[3] = $event => $data.uuid_product = $event),\n    name: $data.name,\n    \"onUpdate:name\": _cache[4] || (_cache[4] = $event => $data.name = $event),\n    price: $data.price,\n    \"onUpdate:price\": _cache[5] || (_cache[5] = $event => $data.price = $event),\n    description: $data.description,\n    \"onUpdate:description\": _cache[6] || (_cache[6] = $event => $data.description = $event)\n  }, null, 8 /* PROPS */, [\"url_product\", \"uuid_product\", \"name\", \"price\", \"description\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" \\n    <div class=\\\"d-flex justify-content-center\\\">\\n    \\n            <rdx-button \\n               v-if=\\\"accion=='edit'\\\"\\n               @click=\\\"on_click_update()\\\">Guardar</rdx-button>\\n               \\n            <rdx-button \\n               v-if=\\\"accion=='new'\\\"\\n               @click=\\\"on_click_create()\\\">Crear</rdx-button>\\n    </div> \\n\"), _createCommentVNode(\" \\n   {{$store.showcase.product}}\\n\")], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;EACSA,KAAK,EAAC;AAAgC;;;;;;;gCAa3CC,oBAAmD;EAA9CC,KAAiC,EAAjC;IAAA;IAAA;EAAA;AAAiC,GAAC,GAAM;;;;;6DAb7CD,oBAWM,OAXNE,UAWM,GAVQC,YAAM,4BAAhBC,oBAAqD,kBAAzB,sBAAoB,wCACtCD,YAAM,2BAAhBC,oBAAgD,kBAArB,kBAAgB,wCAEzBD,YAAM,4BAAxBE,aAECC;;IAFoCC,OAAK,sCAAEC,wBAAe;;sBACtD,MAAO,kBAAP,SAAO;;2CAGML,YAAM,2BAAxBE,aAECC;;IAFmCC,OAAK,sCAAEC,wBAAe;;sBACrD,MAAK,kBAAL,OAAK;;6CAIdC,UAAmD,EAGzCN,UAAI,kBADdE,aAOEK;;IALUC,WAAW,EAAER,iBAAW;gEAAXA,iBAAW;IACxBS,YAAY,EAAET,kBAAY;iEAAZA,kBAAY;IAC1BU,IAAI,EAAEV,UAAI;yDAAJA,UAAI;IACVW,KAAK,EAAEX,WAAK;0DAALA,WAAK;IACZY,WAAW,EAAEZ,iBAAW;gEAAXA,iBAAW;iIAGpCa,sXAWD,EAECA,0DAED","names":["class","_createElementVNode","style","_hoisted_1","$data","_createElementBlock","_createBlock","_component_rdx_button","onClick","$options","_hoisted_4","_component_vitrina_form_product","url_product","uuid_product","name","price","description","_createCommentVNode"],"sourceRoot":"","sources":["/opt/rdx-vitrina-front/src/views/dashboard/product/ProductForm.vue"],"sourcesContent":["<template>\n    <div class=\"d-flex justify-content-between\">\n        <h3 v-if=\"accion == 'edit'\">Modifica tu producto</h3>\n        <h3 v-if=\"accion == 'new'\">Crea tu producto</h3>\n\n        <rdx-button v-if=\"accion == 'edit'\" @click=\"on_click_update()\"\n            >Guardar</rdx-button\n        >\n\n        <rdx-button v-if=\"accion == 'new'\" @click=\"on_click_create()\"\n            >Crear</rdx-button\n        >\n    </div>\n\n    <div style=\"width: 100%; height: 50px\">&nbsp;</div>\n\n    <vitrina-form-product\n        v-if=\"show\"\n        v-model:url_product=\"url_product\"\n        v-model:uuid_product=\"uuid_product\"\n        v-model:name=\"name\"\n        v-model:price=\"price\"\n        v-model:description=\"description\"\n    />\n\n    <!-- \n    <div class=\"d-flex justify-content-center\">\n    \n            <rdx-button \n               v-if=\"accion=='edit'\"\n               @click=\"on_click_update()\">Guardar</rdx-button>\n               \n            <rdx-button \n               v-if=\"accion=='new'\"\n               @click=\"on_click_create()\">Crear</rdx-button>\n    </div> \n-->\n\n    <!-- \n   {{$store.showcase.product}}\n--></template>\n\n<script>\n/*\nimport VitrinaInput from \"./inputs/VitrinaInput.vue\";\nimport VitrinaImage from \"./inputs/VitrinaImage.vue\";\nimport VitrinaTextarea from \"./inputs/VitrinaTextarea.vue\";\n*/\n\nimport VitrinaFormProduct from \"../../dashboard/vitrina/form/Product.vue\";\n\nexport default {\n    props: {},\n    data() {\n        return {\n            show: false,\n            accion: null,\n\n            url_product: null,\n            uuid_product: null,\n            name: null,\n            price: null,\n            description: null,\n        };\n    },\n\n    components: {\n        \"vitrina-form-product\": VitrinaFormProduct,\n    },\n\n    beforeCreate() {},\n\n    created() {\n        if (this.$u.isNull(this.$store.showcase.product)) {\n            console.log(\"Producto nuevo !!!\");\n            this.accion = \"new\";\n            this.show = true;\n        } else {\n            console.log(\"Editando producto !!!\");\n            this.$api.get({\n                url: [\n                    [\n                        \"/api/showcase_product/\" +\n                            this.$store.showcase.product.id +\n                            \"/\",\n                        null,\n                    ],\n                ],\n                success: (resp_product) => {\n                    console.log(resp_product);\n                    this.url_product = resp_product.data.url_product;\n\n                    this.uuid_product = resp_product.data.uuid_product;\n\n                    this.name = resp_product.data.name;\n                    this.price = resp_product.data.price;\n                    this.description = resp_product.data.description;\n\n                    this.accion = \"edit\";\n                    this.show = true;\n                },\n                error: (err) => {\n                    console.log(err);\n                },\n            });\n        }\n    },\n    beforeUnmount() {},\n    mounted() {},\n    methods: {\n        on_click_update() {\n            console.log(\"on_click_update()\");\n\n            var save = () => {\n                this.$api.patch({\n                    url:\n                        \"/api/showcase_product/\" +\n                        this.$store.showcase.product.id +\n                        \"/\",\n                    data: {\n                        uuid_product: this.uuid_product,\n                        name: this.name,\n                        price: this.price,\n                        description: this.description,\n                    },\n                    success: (resp) => {\n                        console.log(resp);\n\n                        //this.$router.push('/startup/step5');\n                    },\n                    error: (err) => {\n                        this.error_message =\n                            err === null\n                                ? \"No se pudo guardar el formulario\"\n                                : err.error;\n                        this.error = true;\n                    },\n                });\n            };\n\n            this.$gui.confirm_success_back({\n                title: \"Seguro que desea guardar el producto ?\",\n                left_click: () => {\n                    save();\n                },\n            });\n            /*\n          this.$store.global.clear_confirm();\n          this.$store.global.confirm = {\n               show: true,\n               type: 'success',\n               title: 'Seguro que desea guardar el producto ?',\n               left: {\n                   label: 'Si',\n                   click: ()=> {\n                       save();\n                       this.$store.global.clear.confirm();\n                   }\n               },\n               right: {\n                   label: 'No',\n                   click: ()=> {\n                       this.$store.global.clear_confirm();\n                   }\n               }\n          }\n          */\n        },\n\n        on_click_create() {\n            this.$api.post({\n                url: \"/api/showcase_product/\",\n                data: {\n                    uuid_product: this.uuid_product,\n                    name: this.name,\n                    price: this.price,\n                    description: this.description,\n                },\n                success: (resp) => {\n                    console.log(resp);\n                    console.log(\"LISTO !!!!\");\n                    this.accion = \"edit\";\n                    //this.$router.push('/startup/step5');\n                },\n                error: (err) => {\n                    this.error_message =\n                        err === null\n                            ? \"No se pudo guardar el formulario\"\n                            : err.error;\n                    this.error = true;\n                },\n            });\n        },\n    },\n\n    watch: {},\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}