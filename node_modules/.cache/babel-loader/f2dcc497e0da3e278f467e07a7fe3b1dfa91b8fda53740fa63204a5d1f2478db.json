{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-d179af94\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"card card-plain\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"pb-0 card-header text-start\"\n}, [/*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"font-weight-bolder\"\n}, \"Registro de Usuario\"), /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"mb-0\"\n}, \"Ingresa tus datos para continuar\")], -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"card-body\"\n};\nconst _hoisted_4 = {\n  role: \"form\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"alert alert-danger\",\n  role: \"alert\"\n};\nconst _hoisted_6 = {\n  class: \"px-1 pt-0 text-center card-footer px-lg-2\"\n};\nconst _hoisted_7 = {\n  class: \"mx-auto mb-4 text-sm\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_rdx_input = _resolveComponent(\"rdx-input\");\n  const _component_rdx_button = _resolveComponent(\"rdx-button\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", _hoisted_4, [_createVNode(_component_rdx_input, {\n    modelValue: $data.name,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.name = $event),\n    id: \"floatingInput\",\n    label: \"Nombre\",\n    type: \"text\",\n    placeholder: \"name\",\n    isRequired: true\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_rdx_input, {\n    modelValue: $data.email,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.email = $event),\n    id: \"floatingInput\",\n    label: \"Email\",\n    type: \"email\",\n    placeholder: \"email\",\n    isRequired: true\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_rdx_input, {\n    modelValue: $data.password,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.password = $event),\n    id: \"floatingPassword\",\n    label: \"Contraseña\",\n    type: \"password\",\n    placeholder: \"password\",\n    isRequired: true\n  }, null, 8 /* PROPS */, [\"modelValue\"]), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString($data.error_message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createVNode(_component_rdx_button, {\n    onClick: _cache[3] || (_cache[3] = $event => $options.on_click_register())\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Registrarse\")]),\n    _: 1 /* STABLE */\n  })])]), _createCommentVNode(\" <div class=\\\"card-body\\\" style=\\\"background-color:black;right:0\\\">\\n                  \\n                </div> \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"p\", _hoisted_7, [_createTextVNode(\" Volver a \"), _createElementVNode(\"a\", {\n    role: \"button\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.on_click_back_login()),\n    class: \"text-primary font-weight-bold\"\n  }, \"Iniciar Sesión\")])])]);\n}","map":{"version":3,"mappings":";;;EACSA,KAAK,EAAC;AAAiB;gEACxBC,oBAGM;EAHDD,KAAK,EAAC;AAA6B,iBACpCC,oBAAuD;EAAnDD,KAAK,EAAC;AAAoB,GAAC,qBAAmB,gBAClDC,oBAAoD;EAAjDD,KAAK,EAAC;AAAM,GAAC,kCAAgC;;EAE/CA,KAAK,EAAC;AAAW;;EACZE,IAAI,EAAC;AAAM;;;EA0BRF,KAAK,EAAC,oBAAoB;EAACE,IAAI,EAAC;;;EAaxCF,KAAK,EAAC;AAA2C;;EAC/CA,KAAK,EAAC;AAAsB;;;;uBA9CvCG,oBAwDM,OAxDNC,UAwDM,GAvDFC,UAGM,EACNJ,oBAmCM,OAnCNK,UAmCM,GAlCFL,oBAiCO,QAjCPM,UAiCO,GAhCHC,aAOEC;gBANWC,UAAI;+DAAJA,UAAI;IACbC,EAAE,EAAC,eAAe;IAClBC,KAAK,EAAC,QAAQ;IACdC,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC,MAAM;IACjBC,UAAU,EAAE;2CAEjBP,aAOEC;gBANWC,WAAK;+DAALA,WAAK;IACdC,EAAE,EAAC,eAAe;IAClBC,KAAK,EAAC,OAAO;IACbC,IAAI,EAAC,OAAO;IACZC,WAAW,EAAC,OAAO;IAClBC,UAAU,EAAE;2CAEjBP,aAOEC;gBANWC,cAAQ;+DAARA,cAAQ;IACjBC,EAAE,EAAC,kBAAkB;IACrBC,KAAK,EAAC,YAAY;IAClBC,IAAI,EAAC,UAAU;IACfC,WAAW,EAAC,UAAU;IACrBC,UAAU,EAAE;2CAGkCL,WAAK,kBAAxDP,oBAEM,OAFNa,UAEM,mBADCN,mBAAa,uDAGpBF,aAECS;IAFYC,OAAK,sCAAEC,0BAAiB;;sBAChC,MAAW,kBAAX,aAAW;;UAIxBC,uIAEkB,EAElBnB,oBAUM,OAVNoB,UAUM,GATFpB,oBAQI,KARJqB,UAQI,oBAR4B,YAE5B,uBAKC;IAJGpB,IAAI,EAAC,QAAQ;IACZgB,OAAK,sCAAEC,4BAAmB;IAC3BnB,KAAK,EAAC;KACL,gBAAc","names":["class","_createElementVNode","role","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_rdx_input","$data","id","label","type","placeholder","isRequired","_hoisted_5","_component_rdx_button","onClick","$options","_createCommentVNode","_hoisted_6","_hoisted_7"],"sourceRoot":"","sources":["/opt/rdx-vitrina-front/src/views/session/Register.vue"],"sourcesContent":["<template>\n    <div class=\"card card-plain\">\n        <div class=\"pb-0 card-header text-start\">\n            <h4 class=\"font-weight-bolder\">Registro de Usuario</h4>\n            <p class=\"mb-0\">Ingresa tus datos para continuar</p>\n        </div>\n        <div class=\"card-body\">\n            <form role=\"form\">\n                <rdx-input\n                    v-model=\"name\"\n                    id=\"floatingInput\"\n                    label=\"Nombre\"\n                    type=\"text\"\n                    placeholder=\"name\"\n                    :isRequired=\"true\"\n                />\n                <rdx-input\n                    v-model=\"email\"\n                    id=\"floatingInput\"\n                    label=\"Email\"\n                    type=\"email\"\n                    placeholder=\"email\"\n                    :isRequired=\"true\"\n                />\n                <rdx-input\n                    v-model=\"password\"\n                    id=\"floatingPassword\"\n                    label=\"Contraseña\"\n                    type=\"password\"\n                    placeholder=\"password\"\n                    :isRequired=\"true\"\n                />\n\n                <div class=\"alert alert-danger\" role=\"alert\" v-if=\"error\">\n                    {{ error_message }}\n                </div>\n\n                <rdx-button @click=\"on_click_register()\"\n                    >Registrarse</rdx-button\n                >\n            </form>\n        </div>\n        <!-- <div class=\"card-body\" style=\"background-color:black;right:0\">\n                  \n                </div> -->\n\n        <div class=\"px-1 pt-0 text-center card-footer px-lg-2\">\n            <p class=\"mx-auto mb-4 text-sm\">\n                Volver a\n                <a\n                    role=\"button\"\n                    @click=\"on_click_back_login()\"\n                    class=\"text-primary font-weight-bold\"\n                    >Iniciar Sesión</a\n                >\n            </p>\n        </div>\n    </div>\n</template>\n\n<!-- import style -->\n<style lang=\"scss\" scoped>\n.verification-code {\n    &-input {\n    }\n    display: flex;\n    justify-content: space-between;\n    margin: 0 auto;\n    width: 200px;\n}\n</style>\n<script>\n// import ArgonInput from \"@/components/ArgonInput.vue\";\nimport RDxInput from \"@/components/RDxInput.vue\";\nimport axios from \"axios\";\nconst body = document.getElementsByTagName(\"body\")[0];\n\nexport default {\n    name: \"signin\",\n    data() {\n        return {\n            name: \"\",\n            email: \"\",\n            password: \"\",\n            error: false,\n            error_message: \"\",\n            error_code: \"\",\n        };\n    },\n    components: {\n        \"rdx-input\": RDxInput,\n    },\n    created() {\n        body.classList.remove(\"bg-gray-100\");\n    },\n\n    beforeUnmount() {\n        body.classList.add(\"bg-gray-100\");\n    },\n    mounted() {},\n    methods: {\n        on_click_back_login() {\n            this.$router.push({ path: \"/session/login\" });\n        },\n\n        on_click_register() {\n            /*  \n      if (this.name == \"\") {\n        this.error = true;\n        this.error_message = \"El campo nombre es requerido\";\n        return;\n      }\n      if (this.email == \"\") {\n        this.error = true;\n        this.error_message = \"El campo email es requerido\";\n        return;\n      }\n      if (this.password == \"\") {\n        this.error = true;\n        this.error_message = \"El campo contraseña es requerido\";\n        return;\n      }\n      */\n\n            this.error = false;\n\n            this.$store.session.clear_all();\n\n            this.$api.post({\n                url: \"/api/enrollment/\",\n                data: {\n                    name: this.name,\n                    email: this.email,\n                    password: this.password,\n                },\n                success: (resp) => {\n                    this.$store.session.webcode = resp.data.webcode;\n                    this.$store.session.current_user.name = this.name.trim();\n                    this.$store.session.current_user.email = this.email.trim();\n                    this.$router.push({ path: \"/session/verification\" });\n                },\n                error: (err) => {\n                    try {\n                        if (\n                            err.response.data.code ==\n                            \"ENROLLMENT_EMAIL_ALREADY_EXIST\"\n                        ) {\n                            this.error_message = \"El email ya está enrolado\";\n                        }\n                    } catch (e) {\n                        this.error_message = \"No se pudo realizar el registro\";\n                    }\n                    this.error = true;\n                },\n            });\n\n            /*       \n              \"/api/enrollment/\", {\n          name: this.name,\n          email: this.email,\n          password: this.password,\n        })\n        .then((response) => {\n          console.log(response);\n\n          \n        })\n        .catch((error) => {\n          this.error = true;\n          console.log(error);\n          \n\n          if (error?.response?.data?.code=='ENROLLMENT_EMAIL_ALREADY_EXIST') {\n              this.error_code = 'ENROLLMENT_EMAIL_ALREADY_EXIST';\n          }\n          \n          this.error_message = error.response.data.error;\n          console.log(error.response.data.error);\n        });\n        */\n        },\n    },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}