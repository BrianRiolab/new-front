{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nconst SelfClosingTags = [\"meta\", \"link\", \"base\"];\nconst propsToString = props => {\n  const handledAttributes = [];\n  for (const [key, value] of Object.entries(props)) {\n    if (value === false || value == null) continue;\n    let attribute = key;\n    if (value !== true) attribute += `=\"${String(value).replace(/\"/g, \"&quot;\")}\"`;\n    handledAttributes.push(attribute);\n  }\n  return handledAttributes.length > 0 ? ` ${handledAttributes.join(\" \")}` : \"\";\n};\nconst tagToString = tag => {\n  const attrs = propsToString(tag.props);\n  const openTag = `<${tag.tag}${attrs}>`;\n  return SelfClosingTags.includes(tag.tag) ? openTag : `${openTag}${tag.children || \"\"}</${tag.tag}>`;\n};\nfunction ssrRenderTags(tags) {\n  const schema = {\n    htmlAttrs: {},\n    bodyAttrs: {},\n    tags: {\n      head: [],\n      bodyClose: [],\n      bodyOpen: []\n    }\n  };\n  for (const tag of tags) {\n    if (tag.tag === \"htmlAttrs\" || tag.tag === \"bodyAttrs\") {\n      schema[tag.tag] = {\n        ...schema[tag.tag],\n        ...tag.props\n      };\n      continue;\n    }\n    schema.tags[tag.tagPosition || \"head\"].push(tagToString(tag));\n  }\n  return {\n    headTags: schema.tags.head.join(\"\\n\"),\n    bodyTags: schema.tags.bodyClose.join(\"\\n\"),\n    bodyTagsOpen: schema.tags.bodyOpen.join(\"\\n\"),\n    htmlAttrs: propsToString(schema.htmlAttrs),\n    bodyAttrs: propsToString(schema.bodyAttrs)\n  };\n}\nasync function renderSSRHead(head) {\n  const beforeRenderCtx = {\n    shouldRender: true\n  };\n  await head.hooks.callHook(\"ssr:beforeRender\", beforeRenderCtx);\n  if (!beforeRenderCtx.shouldRender) {\n    return {\n      headTags: \"\",\n      bodyTags: \"\",\n      bodyTagsOpen: \"\",\n      htmlAttrs: \"\",\n      bodyAttrs: \"\"\n    };\n  }\n  const ctx = {\n    tags: await head.resolveTags()\n  };\n  await head.hooks.callHook(\"ssr:render\", ctx);\n  const html = ssrRenderTags(ctx.tags);\n  const renderCtx = {\n    tags: ctx.tags,\n    html\n  };\n  await head.hooks.callHook(\"ssr:rendered\", renderCtx);\n  return renderCtx.html;\n}\nexport { renderSSRHead };","map":{"version":3,"names":["SelfClosingTags","propsToString","props","handledAttributes","key","value","Object","entries","attribute","String","replace","push","length","join","tagToString","tag","attrs","openTag","includes","children","ssrRenderTags","tags","schema","htmlAttrs","bodyAttrs","head","bodyClose","bodyOpen","tagPosition","headTags","bodyTags","bodyTagsOpen","renderSSRHead","beforeRenderCtx","shouldRender","hooks","callHook","ctx","resolveTags","html","renderCtx"],"sources":["/opt/rdx-vitrina-front/node_modules/@unhead/ssr/dist/index.mjs"],"sourcesContent":["const SelfClosingTags = [\"meta\", \"link\", \"base\"];\n\nconst propsToString = (props) => {\n  const handledAttributes = [];\n  for (const [key, value] of Object.entries(props)) {\n    if (value === false || value == null)\n      continue;\n    let attribute = key;\n    if (value !== true)\n      attribute += `=\"${String(value).replace(/\"/g, \"&quot;\")}\"`;\n    handledAttributes.push(attribute);\n  }\n  return handledAttributes.length > 0 ? ` ${handledAttributes.join(\" \")}` : \"\";\n};\n\nconst tagToString = (tag) => {\n  const attrs = propsToString(tag.props);\n  const openTag = `<${tag.tag}${attrs}>`;\n  return SelfClosingTags.includes(tag.tag) ? openTag : `${openTag}${tag.children || \"\"}</${tag.tag}>`;\n};\n\nfunction ssrRenderTags(tags) {\n  const schema = { htmlAttrs: {}, bodyAttrs: {}, tags: { head: [], bodyClose: [], bodyOpen: [] } };\n  for (const tag of tags) {\n    if (tag.tag === \"htmlAttrs\" || tag.tag === \"bodyAttrs\") {\n      schema[tag.tag] = { ...schema[tag.tag], ...tag.props };\n      continue;\n    }\n    schema.tags[tag.tagPosition || \"head\"].push(tagToString(tag));\n  }\n  return {\n    headTags: schema.tags.head.join(\"\\n\"),\n    bodyTags: schema.tags.bodyClose.join(\"\\n\"),\n    bodyTagsOpen: schema.tags.bodyOpen.join(\"\\n\"),\n    htmlAttrs: propsToString(schema.htmlAttrs),\n    bodyAttrs: propsToString(schema.bodyAttrs)\n  };\n}\n\nasync function renderSSRHead(head) {\n  const beforeRenderCtx = { shouldRender: true };\n  await head.hooks.callHook(\"ssr:beforeRender\", beforeRenderCtx);\n  if (!beforeRenderCtx.shouldRender) {\n    return {\n      headTags: \"\",\n      bodyTags: \"\",\n      bodyTagsOpen: \"\",\n      htmlAttrs: \"\",\n      bodyAttrs: \"\"\n    };\n  }\n  const ctx = { tags: await head.resolveTags() };\n  await head.hooks.callHook(\"ssr:render\", ctx);\n  const html = ssrRenderTags(ctx.tags);\n  const renderCtx = { tags: ctx.tags, html };\n  await head.hooks.callHook(\"ssr:rendered\", renderCtx);\n  return renderCtx.html;\n}\n\nexport { renderSSRHead };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}